{% extends 'base.html.twig' %}

{% block body %}
<h1>My Profile</h1>

{% for error in errors %}
    <div class="alert alert-danger">{{ error }}</div>
{% endfor %}

<div>
    <h3>Profile Picture</h3>
    <img 
        src="{{ user.profilePicture ? asset('uploads/profile_pictures/' ~ user.profilePicture) : asset('images/default-profile.png') }}" 
        alt="Profile Picture" 
        style="max-width: 150px; border-radius: 50%;">
</div>

<form method="post" enctype="multipart/form-data">
    <div>
        <label for="profile_picture">Upload New Profile Picture:</label>
        <input type="file" name="profile_picture" id="profile_picture" accept="image/jpeg,image/png">
    </div>
    <form method="post" action="{{ path('app_remove_profile_picture') }}">
    <button type="submit" class="btn btn-danger">Remove Profile Picture</button>
</form>
    <button type="submit">Upload Picture</button>
</form>

<form method="post">
    <div>
        <label for="username">Username:</label>
        <input type="text" name="username" id="username" value="{{ user.username }}" required>
    </div>

    <div>
        <label for="email">Email:</label>
        <input type="email" name="email" id="email" value="{{ user.email }}" required>
    </div>

    <div>
        <label for="password">Current Password:</label>
        <input type="password" name="password" id="password">
    </div>

    <div>
        <label for="newPassword">New Password:</label>
        <input type="password" name="newPassword" id="newPassword">
    </div>

    <button type="submit">Update Profile</button>
</form>
{% endblock %}
